"use strict";var __extends=this&&this.__extends||function(e,t){function s(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)},AsyncScheduler_1=require("./AsyncScheduler"),AsapScheduler=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,s=this.actions,r=-1,c=s.length;e=e||s.shift();do if(t=e.execute(e.state,e.delay))break;while(++r<c&&(e=s.shift()));if(this.active=!1,t){for(;++r<c&&(e=s.shift());)e.unsubscribe();throw t}},t}(AsyncScheduler_1.AsyncScheduler);exports.AsapScheduler=AsapScheduler;
"use strict";var __extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},AsyncScheduler_1=require("./AsyncScheduler"),AnimationFrameScheduler=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,i=this.actions,r=-1,n=i.length;e=e||i.shift();do if(t=e.execute(e.state,e.delay))break;while(++r<n&&(e=i.shift()));if(this.active=!1,t){for(;++r<n&&(e=i.shift());)e.unsubscribe();throw t}},t}(AsyncScheduler_1.AsyncScheduler);exports.AnimationFrameScheduler=AnimationFrameScheduler;
"use strict";function subscribeToResult(e,r,o,i){var s=new InnerSubscriber_1.InnerSubscriber(e,o,i);if(s.closed)return null;if(r instanceof Observable_1.Observable)return r._isScalar?(s.next(r.value),s.complete(),null):r.subscribe(s);if(isArray_1.isArray(r)){for(var t=0,b=r.length;t<b&&!s.closed;t++)s.next(r[t]);s.closed||s.complete()}else{if(isPromise_1.isPromise(r))return r.then(function(e){s.closed||(s.next(e),s.complete())},function(e){return s.error(e)}).then(null,function(e){root_1.root.setTimeout(function(){throw e})}),s;if(r&&"function"==typeof r[iterator_1.$$iterator])for(var n=r[iterator_1.$$iterator]();;){var u=n.next();if(u.done){s.complete();break}if(s.next(u.value),s.closed)break}else if(r&&"function"==typeof r[observable_1.$$observable]){var l=r[observable_1.$$observable]();if("function"==typeof l.subscribe)return l.subscribe(new InnerSubscriber_1.InnerSubscriber(e,o,i));s.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var a=isObject_1.isObject(r)?"an invalid object":"'"+r+"'",c="You provided "+a+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";s.error(new TypeError(c))}}return null}var root_1=require("./root"),isArray_1=require("./isArray"),isPromise_1=require("./isPromise"),isObject_1=require("./isObject"),Observable_1=require("../Observable"),iterator_1=require("../symbol/iterator"),InnerSubscriber_1=require("../InnerSubscriber"),observable_1=require("../symbol/observable");exports.subscribeToResult=subscribeToResult;